(this["webpackJsonpprivate-portfolio"]=this["webpackJsonpprivate-portfolio"]||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),o=a.n(n),i=a(20),d=a.n(i),m=(a(27),a(11)),r=a(12),c=a(14),l=a(13),h=(a(28),a(2)),b=a(4),g=(a(34),function(e){e.toggle;var t=e.onRouteChange;e.isSignedIn;return Object(s.jsxs)("nav",{className:"flex justify-between items-center h-16 bg-pink-300 text-black shadow-sm font-mono fixed w-full z-10",role:"navigation",children:[Object(s.jsxs)("div",{className:"pr-8",children:[Object(s.jsx)(b.HashLink,{className:"p-4 hover:text-green-200",to:"/#home",children:"Home"}),Object(s.jsx)(b.HashLink,{className:"p-4 hover:text-green-200",to:"/#about",children:"About"}),Object(s.jsx)(b.HashLink,{className:"p-4 hover:text-green-200",to:"/#portfolio",children:"Portfolio"})]}),Object(s.jsx)("div",{onClick:function(){return t("signin")},children:Object(s.jsx)(b.HashLink,{to:"/",className:"pr-8 hover:text-green-200",id:"signOutLg",children:"Logout"})})]})}),p=(a(35),function(e){var t=e.onRouteChange;return Object(s.jsx)("div",{className:"h-screen background",id:"home",children:Object(s.jsxs)("div",{className:"modal",children:[Object(s.jsx)("p",{className:"message",children:"Hello"}),Object(s.jsxs)("p",{className:"message",children:[Object(s.jsx)("span",{className:"text_1",children:"Welcome to my portfolio"}),Object(s.jsx)("span",{className:"text_2",children:"Do you want to see more?"})]}),Object(s.jsxs)("div",{className:"options",children:[Object(s.jsx)(b.HashLink,{to:"/#about",className:"mr-10",children:Object(s.jsx)("button",{id:"btn-1",className:"btn hover:bg-green-400",children:"Yes"})}),Object(s.jsx)("button",{id:"btn-2",onClick:function(){return t("signin")},className:"btn hover:bg-pink-300",children:"No"})]})]})})}),u=function(){return Object(s.jsx)("div",{className:"pt-10 font-mono text-gray-300 items-center text-center text-xs"})},j=a.p+"static/media/nz.1c891d49.png",w=function(){return Object(s.jsxs)("div",{className:"flex flex-col ml-9 mr-9 py-20 font-mono",id:"about",children:[Object(s.jsx)("h2",{className:"flex flex-col justify-center items-center font-bold text-lg mb-20",children:"About me"}),Object(s.jsxs)("div",{className:"md:px-8",children:[Object(s.jsx)("img",{src:j,alt:"Pic of me in NZ",className:"md:rounded-full md:w-1/6 sm:rounded-lg sm:w-2/6 float-left mr-8 mb-5 md:ml-20"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-20 md:mr-20 lg:mt-8 md:mt-0",children:"After teaching myself some of the basics of HTML5, CSS3 and JavaScript over a few months I started the Software Development Technician Apprenticeship with Pecometer in October 2020. Here I work frontend and backend, using mySQL, Typescript, and the backend is an in house framework based heavily on Angular."})]})]})},f=(a(36),a.p+"static/media/code.c0db9343.png"),x=function(){return Object(s.jsxs)("div",{className:"lg:justify-center lg:flex bg-pink-100 py-20 mt-10 md:w-full md:grid md:h-full md:place-items-center",id:"portfolio",children:[Object(s.jsx)("div",{className:"m-2 font-sans leading-normal transform hover:scale-105 ",children:Object(s.jsxs)("div",{className:"max-w-lg shadow-2xl rounded overflow-hidden m-4 sm:flex bg-blue-100",children:[Object(s.jsx)("div",{className:"h-48 sm:h-auto sm:w-48 md:h-auto md:w-64 flex-none bg-cover bg-center rounded rounded-t sm:rounded sm:rounded-l text-center overflow-hidden",children:Object(s.jsx)("img",{src:f,alt:"Pic of code"})}),Object(s.jsxs)("div",{className:"px-6 py-4 ",children:[Object(s.jsx)("h2",{className:"mb-2 font-black",children:"System Logs"}),Object(s.jsx)("p",{className:"mb-4 text-grey-dark text-sm",children:"First portfolio piece to ensure user actions are logged in the database and showing on the system logs page."}),Object(s.jsx)(b.HashLink,{to:"/system-logs",children:Object(s.jsx)("button",{className:"py-3 px-6 text-black font-bold rounded-full mt-1 mb-2 bg-green-200 hover:bg-green-500",children:"Take a look!"})})]})]})}),Object(s.jsx)("div",{className:"m-2 font-sans leading-normal transform hover:scale-105",children:Object(s.jsxs)("div",{className:"max-w-lg shadow-2xl rounded overflow-hidden m-4 sm:flex bg-blue-100",children:[Object(s.jsx)("div",{className:"h-48 sm:h-auto sm:w-48 md:w-64 flex-none bg-cover bg-center rounded rounded-t sm:rounded sm:rounded-l text-center overflow-hidden",children:Object(s.jsx)("img",{src:f,alt:"Pic of code"})}),Object(s.jsxs)("div",{className:"px-6 py-4",children:[Object(s.jsx)("h2",{className:"mb-2 font-black",children:"Popup Preview"}),Object(s.jsx)("p",{className:"mb-4 text-grey-dark text-sm",children:"A preview feature that opens a popup and renders the users' created web page as it should look live."}),Object(s.jsx)(b.HashLink,{to:"/popup-preview",children:Object(s.jsx)("button",{className:"py-3 px-6 text-black font-bold rounded-full mt-1 mb-2 bg-green-200 hover:bg-green-500",children:"Take a look!"})})]})]})})]})},v=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).onUsernameChange=function(e){s.setState({signInUsername:e.target.value})},s.onPasswordChange=function(e){s.setState({signInPassword:e.target.value})},s.onSubmitSignIn=function(e){e.preventDefault(),fetch("https://pure-dusk-78963.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s.state.signInUsername,password:s.state.signInPassword})}).then((function(e){return e.json()})).then((function(e){"success"===e&&s.props.onRouteChange("home")}))},s.state={signInUsername:"",signInPassword:""},s}return Object(r.a)(a,[{key:"render",value:function(){this.props.onRouteChange;return Object(s.jsx)("div",{className:"bg-pink-100 py-20 grid h-full place-items-center",id:"signin",children:Object(s.jsx)("div",{className:"m-2 font-sans leading-normal transform",children:Object(s.jsxs)("form",{onSubmit:this.onSubmitSignIn,className:"shadow-2xl rounded-lg overflow-hidden pt-10 grid place-items-center bg-blue-100 pl-20 pr-20",children:[Object(s.jsx)("label",{className:"font-mono pb-2",id:"username",htmlFor:"username",children:"Username"}),Object(s.jsx)("input",{onChange:this.onUsernameChange,className:"w-full opacity-60 outline-none",type:"username"}),Object(s.jsx)("label",{className:"font-mono pt-5 pb-2",id:"password",htmlFor:"password",children:"Password"}),Object(s.jsx)("input",{className:"w-full opacity-60 outline-none",type:"password",onChange:this.onPasswordChange}),Object(s.jsx)("div",{className:"px-6 py-4 ",children:Object(s.jsx)("button",{type:"submit",value:"Sign in",className:"py-3 px-6 text-black font-bold rounded-full mt-1 mb-2 bg-green-200 hover:bg-green-500 font-mono",children:"Sign In!"})})]})})})}}]),a}(o.a.Component),O=a.p+"static/media/code.c0db9343.png",N=function(){return Object(s.jsxs)("div",{className:"flex flex-col ml-9 mr-9 py-20 font-mono",id:"about",children:[Object(s.jsx)("h2",{className:"flex flex-col justify-center items-center font-bold text-lg mb-20",children:"System Logs"}),Object(s.jsxs)("div",{className:"md:px-8",children:[Object(s.jsx)("img",{src:O,alt:"Pic of code",className:"rounded-lg w-2/6 float-left mr-8 mb-5 ml-20 transform hover:scale-150"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-20 md:mr-20 lg:mt-8 md:mt-0",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Blanditiis facilis corrupti culpa doloremque excepturi autem quibusdam qui deserunt voluptatem esse est aliquam, ipsam ducimus repellat ex ea quos maiores nobis? Lorem ipsum dolor sit amet consectetur adipisicing elit. Accusantium expedita dolorum, placeat voluptatem eum totam asperiores quae facilis provident aliquam cumque tempora veniam sed cupiditate fugit magni ipsa. Repudiandae, fugit."})]})]})},y=a.p+"static/media/plan.e1ea8aff.png",k=a.p+"static/media/call.2fe3aaa2.gif",I=a.p+"static/media/prevbtn.4e0ed6c5.png",T=a.p+"static/media/prevfunc.21d2faec.png",P=a.p+"static/media/constructor.22268c8d.png",S=a.p+"static/media/centreP.e28a89fe.png",C=a.p+"static/media/service.dfeef6b0.png",A=a.p+"static/media/flow.a5f74fb5.png",H=a.p+"static/media/formPug.e7bc31a1.png",q=a.p+"static/media/formPug2.25c6e789.png",L=a.p+"static/media/inputs.fb102b54.png",M=a.p+"static/media/backend.4a71fa9c.png",W=a.p+"static/media/migrationhelp.b59a4d54.png",F=a.p+"static/media/migration.5f46ead6.png",R=a.p+"static/media/db.04722ab8.png",_=a.p+"static/media/renderer.a75ec02a.png",U=a.p+"static/media/tempSwitch.0e84d65f.png",B=a.p+"static/media/model.75ce7275.png",D=a.p+"static/media/media.a6e38e27.png",J=a.p+"static/media/google.f793cb18.gif",z=a.p+"static/media/jsonText.f3041edc.png",Q=a.p+"static/media/rendPug.e713b866.png",E=a.p+"static/media/signin.e2874192.png",G=a.p+"static/media/websocket.9433fef2.png",V=a.p+"static/media/explain.72070b56.png",Y=a.p+"static/media/organise.351d372e.png",Z=a.p+"static/media/feedback.a57f0ea4.png",K=a.p+"static/media/finalvideo.1cbbee92.mp4",X=(a(37),function(){return Object(s.jsxs)("div",{className:"flex flex-col ml-9 mr-9 py-20 font-mono mb-10 lg:mx-40",id:"about",children:[Object(s.jsx)("h2",{className:"flex flex-col justify-center items-center font-bold text-lg my-20",children:"Popup Preview"}),Object(s.jsxs)("div",{className:"md:px-8 mb-20",children:[Object(s.jsx)("h3",{className:"mb-8 font-semibold",children:"Task"}),Object(s.jsx)("img",{src:y,alt:"Pic of code",className:"rounded-lg w-2/6 float-left ml-20 mr-8 mb-5 grow"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"The user is able to create a landing page for their product and there is a \u2018preview\u2019 of this but it was not reflecting 100% how the finished page would look. The task was to create a button that would trigger a popup and this would display the page as it should look live. The user is able to add custom HTML, CSS and JavaScript so this all needs to be sent through. This was assigned to Matt, another apprentice, and I, to work on together. We decided to construct a basic step by step plan and then get our manager to check this, to make sure we were on the right lines. (Hover over the image to see larger)"}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"This was just a basic plan, and by no means exhaustive, but a good starting point to kick things off. We would come to discover that there was much more than the above that we needed to do, however the whole project was a huge learning experience."})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"md:px-8 my-20",children:[Object(s.jsx)("h3",{className:"mb-8 font-semibold",children:"Communication"}),Object(s.jsx)("img",{src:k,alt:"Pic of code",className:"rounded-lg w-1/10 float-left mr-8 mb-5"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"In the beginning, I was able to communicate with Matt in the office, however as the Covid rules became stricter, and we started to work from home, we moved our discussions online, to Slack and Microsoft Teams."}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"Although this was strange at first, it quickly became normal, especially as we could use the screen share feature. Quite often, as I finish later than Matt, I would call him in the morning to explain what I had done the afternoon before, so that we were both up to speed and this worked out nicely."}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"After deciding it was best to organise how we would work, it was agreed that I would start the main portal frontend and backend and Matt would handle the renderer side of things, so we could both get coding the project."})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"md:px-8 my-20",children:[Object(s.jsx)("h3",{className:"mb-8 font-semibold",children:"Frontend"}),Object(s.jsx)("img",{src:I,alt:"Pic of code",className:"rounded-lg w-6/6 float-left mr-8 mb-10"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8",children:"Firstly, I added a preview button into template three, I wanted to test it in this one first, as it is the most commonly used template. There was no functionality to the button yet, and after trying it out in a couple of different places, I settled with it underneath the save button."}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"When I start a task, I normally try to see if there is anything similar already built, to get inspiration from, but also, because it seems a waste of time to write the same code again, if it has already been done before. There were many other pop ups on the site, using a model dialog, so I added this functionality to the button. When clicked, it would open a model dialog. After discussing the with my manager we decided not to use a modal dialog and a popup window would give better results."}),Object(s.jsx)("br",{}),Object(s.jsx)("img",{src:J,alt:"Pic of code",className:"rounded-lg w-1/10 md:float-left mr-8 mb-5"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0 mb-20",children:"The search results gave me some good links to window.open( ). I added an click event to the preview button, which would call the method \u201cpreview()\u201d inside here."}),Object(s.jsx)("br",{}),Object(s.jsx)("img",{src:T,alt:"Pic of code",className:"rounded-lg md:w-3/6 float-right ml-8 mb-8 transform md:hover:scale-150"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8",children:"This method was build over some time, with extra functionality added in as the project developed. I decided that the preview method would probably want to do something similar to a submit, so the top section I copied from a submit() method. So when the user clicks on the button it sends the data to the backend to save in the database. This meant I could copy the code from submit."}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8",children:[Object(s.jsx)("br",{}),"Firstly, it loops through the form and checks against some validation methods. The custom_css\u2019s value is set to the cssEditorText and then the validation is checked again with the updateValueAndValidity( ) method. After this I created a variable formData to store the values from the formGroup and loop through the images, so we could also get the id\u2019s for these."]}),Object(s.jsx)("img",{src:P,alt:"Pic of code",className:"rounded-lg md:w-2/6 float-left mr-8 mb-8 transform md:hover:scale-150 mt-10"}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8",children:[Object(s.jsx)("br",{}),"The next if statement is to check if the data is going to be updating an exisiting preview, or creating a new one. If there is a cacheId then it will point to service. Service had been defined earlier in the constructor (TemplateService) and is executed when the if statement is proven - it goes to the TemplateService and calls the updatePreviewTemplate method. When this method is called, it sends across information in the 6 parameters using .subscribe(). Then if there is data, it opens a popup, using the centrePopup method."]}),Object(s.jsx)("img",{src:S,alt:"Pic of code",className:"rounded-lg md:w-3/6 float-right ml-8 mb-8 transform md:hover:scale-150 mt-10"}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8",children:[Object(s.jsx)("br",{}),"I added this additional method, after finding information on stackoverflow.com on how to centre popups. I thought it was much better to add this one method to be called in each of the if statements, and therefore abiding by the \u201cdo not repeat yourself\u201d rule. Afterwards, Matt added to this with the popupDimensions so that it would work well when we changed the size of the popup."]}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8",children:[Object(s.jsx)("br",{}),"Later, on request from my manager I also added the popup.focus() method.This says, if there is a popup and the popup isn\u2019t closed then bring it into focus, eliminating the user being able to open hundreds of separate popups and being much more user friendly."]}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8",children:"The parameters that centrePopup is asking for are the url, which is the path we want to open, the name of this window and win relates to the dimensions. The else statement allows the popup to open if there is no cacheId, no cacheId will have been created if this it the first time the user clicks the preview button."}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8",children:[Object(s.jsx)("br",{}),"Next we can take a look at the TemplateService methods, these are created in the data services section."]}),Object(s.jsx)("img",{src:C,alt:"Pic of code",className:"rounded-lg md:w-3/6 float-right ml-8 mb-8 transform md:hover:scale-150 mt-10"}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:[Object(s.jsx)("br",{}),"I based both of these methods on ones that had been created previously for when the user submits the form. These weren\u2019t quite going to work for me as I needed some extra data to be sent across so I renamed and modified them as needed.",Object(s.jsx)("br",{}),"The first is accepting the 3 parameters in the preview method. classname \u2014 which was TemplateThree in this case, the data, which was formData, and the flow."]}),Object(s.jsx)("br",{}),Object(s.jsx)("img",{src:A,alt:"Pic of code",className:"rounded-lg md:w-2/6 float-left mr-8 mb-8 transform md:hover:scale-150 mt-10"}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:[Object(s.jsx)("br",{}),"This is the where the user changes the flow on the webpage, but it is part of a different component. To share this data between the components we need to use an Input() decorator."]}),Object(s.jsx)("br",{}),Object(s.jsx)("img",{src:H,alt:"Pic of code",className:"rounded-lg md:w-2/6 float-right ml-8 mb-8 transform md:hover:scale-150 mt-10"}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-20",children:[Object(s.jsx)("br",{}),"Here you can see the .pug file, where we want to get the value of the flow and then we allow app-template-three to use this."]}),Object(s.jsx)("img",{src:q,alt:"Pic of code",className:"rounded-lg md:w-3/6 ml-8 mb-8 transform md:hover:scale-150 mt-10"}),Object(s.jsx)("br",{}),Object(s.jsx)("img",{src:L,alt:"Pic of code",className:"rounded-lg md:w-2/6 float-left mr-8 mb-8 transform md:hover:scale-150 mt-10"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-10",children:"Now we're able to add the Input decorators into our .ts file, so that the preview method can use the values. I did spend some time reading the Angular documentation and looking at other examples on the site to understand Inputs."}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-20",children:[Object(s.jsx)("br",{}),"The return statement in the postPreviewTemplate uses post to then send the information we have given in the parameters to the path we provided, with the data. The path has been created using template strings which allows us to replace, for example className, with the className that has been provided in the parameters of postPreviewTemplate."]})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"md:px-8 my-20",children:[Object(s.jsx)("h3",{className:"mb-8 font-semibold",children:"Backend"}),Object(s.jsx)("img",{src:M,alt:"Pic of code",className:"rounded-lg w-6/6 mb-5"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"This is the backend code that I created to allow us to get the data and save it into the database. It is all inside the controller for templates. The @Rbac decorator is saying that the user needs to have the permissions of \u2018templates-create\u2019 to use tis feature. It looks for any data that is sent via the path in the @Post decorator. Then inside preview() we are saying that if there is a className, then stored inside variable model, we want to create a new instance of the CachedPreview model which will include template - with the classname being sent over in the param, flow, which is doing the same, and the data, which is being requested. Then we save the model."}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"To allow this to all be saved somewhere, I had to first create the model and Matt created a migration which constructed the new table in the database."})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"md:px-8 my-20",children:[Object(s.jsx)("h3",{className:"mb-8 font-semibold",children:"Models and Migrations"}),Object(s.jsx)("img",{src:B,alt:"Pic of code",className:"rounded-lg w-6/6 mb-5 float-left mr-5"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"The model here sets out each column in the table and assigns its type, eg/ string."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"We want to say who the preview is created by, so we connect to the User table using BelongsToOne and relate it to the created_by column."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"We have a couple of image methods here which will be used later by the renderer. Finally we have some blameables, which allows us to track the times and who created the preview."})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{src:W,alt:"Pic of code",className:"rounded-lg md:w-2/6 float-right ml-8 mb-8 transform md:hover:scale-150 mt-10"}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:[Object(s.jsx)("img",{src:F,alt:"Pic of code",className:"rounded-lg md:w-2/6 ml-8 mb-8 float-left mr-8 transform md:hover:scale-150 mt-10"}),"As Matt hadn\u2019t practised many migrations before, he created the migration. The table is created called cached_previews and stored in the variable table. Then we create each column and allow it to have a type, such as string, text, increments. Increments allows the table to create a number stored in the id column and this will increment each time as new one is created.",Object(s.jsx)("br",{}),"The created_by and updated_by column are integers which have a foreign key - \u2018references\u2019 the id, in the users table."]})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"md:px-8 my-10",children:[Object(s.jsx)("img",{src:R,alt:"Pic of code",className:"rounded-lg mb-8 mt-10"}),Object(s.jsx)("p",{children:"It was important to check that the data was saving in the database as above."}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"As you can see, there is an extra column here that isn\u2019t in the above migration, this is because we realised afterwards that we would need to save the flow also. Initially, we did not have flow as a part of the project. However, when testing with our manager he asked us to add this in, so that the correct flow would be assigned with the users choice."}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"In the id column there is already over 400 preview created, this shows how much testing and amending we had to do to get it to work how the client wanted. I really enjoyed the back and forth of this assignment. How the whole project evolved over time and how we managed to use the feedback given to update and improve the feature."})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"md:px-8 my-20",children:[Object(s.jsx)("h3",{className:"mb-8 font-semibold",children:"Renderer"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"This is the renderer side of this project. I had little experience with this and almost no understanding of why we have a renderer and how information gets passed to it at the start of this project."}),Object(s.jsx)("p",{className:"w-6/6 mb-8 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"One of my favourite things about this project is getting to know this a bit more, it was also probably the most challenging side and where we got the most help from our manager."}),Object(s.jsx)("img",{src:_,alt:"Pic of code",className:"rounded-lg w-6/6 mb-5 mr-5"}),Object(s.jsx)("p",{className:"w-6/6 mb-8 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"We had decided early on Matt would handle this as he has more experience than me and also had been doing some testing on the renderer a couple of weeks before. However it ended up not going very far so we worked on it together, after finishing the other parts."}),Object(s.jsx)("img",{src:U,alt:"Pic of code",className:"rounded-lg w-2/6 mb-5 float-left transform md:hover:scale-150 mr-5"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"We first created a new controller for anything sent via the /preview path. It needed to use an @Auth decorator to check that the user was logged in first. Then would get the data that was stored in the table under the id sent in the path."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"Stored in the model variable, we search CachedPreview table for one matching id."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"In the template variable we call the loadTemplate method, which gets from the model the value in template column, and then uses a switch statement to return the template name. This will allow us to render using the correct template later on."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"Then we deal with the images. This was quite complicated for me at first and I went to one of my colleagues in the office for advice on how to handle the images. They helped me write this bit of code."}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{className:"w-6/6 mb-8 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"If you can remember earlier, in the model we had some methods for the images. Using a for of loop, we go through each item in the imageIds method. Then using an if statement we check if the data has anything matching that imageIdColumn. If it does then we store in variable image, we look into the Media table, find one id that matches the id in our data. Next we use replace to remove the _id part of the imageIdColumn so that this can then be used in the template. The css is looking in the model for the backgroundImage without the _id part."}),Object(s.jsx)("img",{src:D,alt:"Pic of code",className:"rounded-lg w-6/6 mb-5 mr-5"}),Object(s.jsx)("img",{src:z,alt:"Pic of code",className:"rounded-lg w-2/6 float-right mb-5 ml-5 transform md:hover:scale-150"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"This is then being stored as image and saved to the model:"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"The final part in this method is where we render everything to the right path templates/ - here we have to remove the \u201ctemplate\u201d part. This is because it needs to relate to the correct template which has only been named \u201cone\u201d, \u201ctwo\u201d, \u201cthree\u201d etc. It is then setting each part of the object to the relevant data in the model. For example flow: model.flow - this is setting the flow to the flow that is stored in the model."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"After we had most of this done, we were advised that we would need to check if the user was signed in first."}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:["I found a pug file that was for \u201csignup\u201d and figured that we probably wanted to do something similar. I created the file and then pasted in the code from signup.",Object(s.jsx)("br",{}),"Some of the styling needed changing and the fields amended, to be a more simple signing form."]}),Object(s.jsx)("p",{className:"w-6/6 mb-5 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"I was quite happy to find this as I have no experience in jQuery so being able to look at code that should function in a related way was really useful."}),Object(s.jsx)("img",{src:Q,alt:"Pic of code",className:"rounded-lg w-2/6 float-left mb-5 mr-5 transform md:hover:scale-150"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"Then our manager helped us with what needed to go into the post."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"We then added this to our Preview controller. The Get was quite easy as there was similar code for signing, but our manager helped us quite a lot with the Post."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"Stored inside variable user we are using the validateByCredentials method in _auth and requesting the username and password."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"If there is a user and that user is an active user then they login and we update their last logged in using moment, which captures the date and time at that moment. This then gets saved."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"A JWT token is generated to certify the identity of the user. Otherwise, they are not logged in either because they are not active, or any other reason is directed to the catch as errors with invalid password."}),Object(s.jsx)("img",{src:E,alt:"Pic of code",className:"rounded-lg w-2/6 mt-8 float-left mb-5 mr-5 transform md:hover:scale-150"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"When we finally thought we had completed the task we committed the files and pushed the branches. This is then merged into another development branch with is viewed by our manager."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"He sent us back an update on the Trello task as there were some things that were not quite right."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"If the user updates the preview, but hasn\u2019t closed the popup window, the popup doesn\u2019t refresh, so no changes are reflected in the page. He let us know that we would need to utilise the web socket to send a message of \u201crefresh\u201d."}),Object(s.jsx)("img",{src:G,alt:"Pic of code",className:"rounded-lg w-2/6 mt-8 float-right mb-5 mr-5 transform md:hover:scale-150"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"Again this was something that we got a lot of help with as there wasn\u2019t anything similar anywhere else and even after reading documentation on web sockets, it wasn\u2019t clear to us how to handle this."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"We were sure it would need to broadcast a message, as this was what was outlined in the documentation. The was handled on the backend of the main site."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"We then needed to create a preview.js file in the renderer to listen for the refresh message using subscribe and when it see\u2019s that message, it refreshes the page."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"This was similar for what we needed to do when the user wanted to view in a different size."})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"md:px-8 my-20",children:[Object(s.jsx)("h3",{className:"mb-8 font-semibold",children:"Conclusions and Working Together"}),Object(s.jsxs)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:["I learnt an incredible amount from this task, understanding the code and following the code to the right places. The get and post using the path and authorisation.",Object(s.jsx)("br",{}),"I did find it challenging in many parts, especially where there wasn\u2019t similar things happening.",Object(s.jsx)("br",{}),"It was also a challenge to work and organise as a team when we both have different skills. I did find I had to direct and explain the code quite often but I enjoyed being able to help my colleague.",Object(s.jsx)("br",{}),"I also found that explaining the code out loud, to someone else, really helped me understand it properly."]}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"I was able to delegate the migrations task to Matt as I knew he had not done any migrations before and it would be good experience."}),Object(s.jsx)("img",{src:V,alt:"Pic of code",className:"rounded-lg w-3/6 float-left mt-8 mr-8 mb-5 transform md:hover:scale-150"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"Here I explained to Matt about the if statements and how they work, we needed to remove an if statement when we refactored the code as it wasn\u2019t doing anything."}),Object(s.jsx)("img",{src:Y,alt:"Pic of code",className:"rounded-lg w-2/6 float-right mt-8 mr-8 mb-5 transform md:hover:scale-150"}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"I tried to ensure we were organised during the task and made the best use of our time, so we didn\u2019t crossover on what we were working on too much and end up both doing the same thing."}),Object(s.jsx)("p",{className:"w-6/6 md:ml-10 md:mr-10 lg:mt-8 md:mt-0",children:"Finally, once the task was completed I was talking about another issue with a colleague and he gave us some great feedback on the preview popup. It was really great to hear someone with more experience saying that we did a good job."}),Object(s.jsx)("img",{src:Z,alt:"Pic of code",className:"rounded-lg w-6/6 mt-8 mr-8 mb-5"})]}),Object(s.jsx)("hr",{}),Object(s.jsxs)("div",{className:"md:px-8 my-20",children:[Object(s.jsx)("h3",{className:"mb-8 font-semibold",children:"The Finished Product"}),Object(s.jsxs)("video",{className:"w-full",controls:!0,children:[Object(s.jsx)("source",{src:K,type:"video/mp4"}),"Your browser does not support the video tag."]})]})]})}),$=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).onInputChange=function(t){e.setState({input:t.target.value})},e.onRouteChange=function(t){"signout"===t?e.setState({isSignedIn:!1}):"home"===t&&e.setState({isSignedIn:!0}),e.setState({route:t})},e.state={route:"signin",isSignedIn:!1},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.isSignedIn,o=t.route;return Object(s.jsx)("div",{className:"App",children:"signin"===o?Object(s.jsx)(v,{onRouteChange:this.onRouteChange}):Object(s.jsxs)("div",{children:[Object(s.jsx)(g,{isSignedIn:a,onRouteChange:this.onRouteChange}),Object(s.jsxs)(h.g,{children:[Object(s.jsx)(h.d,{exact:!0,path:"/",render:function(){return Object(s.jsxs)(n.Fragment,{children:[Object(s.jsx)(p,{onRouteChange:e.onRouteChange}),Object(s.jsx)(w,{}),Object(s.jsx)(x,{})]})}}),Object(s.jsx)(h.d,{exact:!0,path:"/system-logs",component:N}),Object(s.jsx)(h.d,{exact:!0,path:"/popup-preview",component:X})]}),Object(s.jsx)(u,{})]})})}}]),a}(n.Component),ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,39)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,o=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),o(e),i(e)}))},te=a(10);d.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsx)(te.BrowserRouter,{children:Object(s.jsx)($,{})})}),document.getElementById("root")),ee()}},[[38,1,2]]]);
//# sourceMappingURL=main.e47353ad.chunk.js.map